{"componentChunkName":"component---src-templates-notebook-js","path":"/pidgraph-notebooks-python/user-story-2-software-citations/py-software-citations-with-output/","result":{"data":{"jupyterNotebook":{"html":"<div class=\"notebook-render\"><div class=\"sc-iwsKbI Dticx\"><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-gZMcBi gmeReZ\"><table>\n<thead>\n<tr>\n<th><a>FREYA</a> WP2 <a>User Story 2</a></th>\n<th>As a software author, I want to be able to see the citations of my software aggregated across all versions, so that I see a complete picture of reuse.</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n<p>Software development process involves versioned releases. Consequently, different software versions may be used for scientific discovery and thus referenced in publications. In order to quantify impact of a software, its author must be able to capture the reuse of the software across all its versions.\nThis notebook uses the <a>DataCite GraphQL API</a> to retrieve metadata about software titled: <a>Calculation Package: Inverting topography for landscape evolution model process representation</a>, including all its versions, so that its overall reuse can be quantified.</p>\n<p><strong>Goal</strong>: By the end of this notebook, for a given software you should be able to display:</p>\n<ul>\n<li>Counts of citations, views and downloads metrics, aggregated across all versions of the software</li>\n<li>An interactive stacked bar plot showing how the metric counts of each version contribute to the corresponding aggregated metric counts, e.g. </li>\n</ul></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-gZMcBi gmeReZ\"><h2>Install libraries and prepare GraphQL client</h2></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-bZQynM ivRWoJ\"><div class=\"sc-bxivhb hjplrr\">[1]</div><pre class=\"sc-EHOje jvzENE input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#393A34\">%</span><span class=\"token\" style=\"color:#393A34\">%</span>capture\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Install required Python packages</span>\n!pip install gql requests numpy plotly</code></pre></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-bZQynM ivRWoJ\"><div class=\"sc-bxivhb hjplrr\">[2]</div><pre class=\"sc-EHOje jvzENE input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># Prepare the GraphQL client</span>\n<span class=\"token\" style=\"color:#0000ff\">import</span> requests\n<span class=\"token\" style=\"color:#0000ff\">from</span> IPython<span class=\"token\" style=\"color:#393A34\">.</span>display <span class=\"token\" style=\"color:#0000ff\">import</span> display<span class=\"token\" style=\"color:#393A34\">,</span> Markdown\n<span class=\"token\" style=\"color:#0000ff\">from</span> gql <span class=\"token\" style=\"color:#0000ff\">import</span> gql<span class=\"token\" style=\"color:#393A34\">,</span> Client\n<span class=\"token\" style=\"color:#0000ff\">from</span> gql<span class=\"token\" style=\"color:#393A34\">.</span>transport<span class=\"token\" style=\"color:#393A34\">.</span>requests <span class=\"token\" style=\"color:#0000ff\">import</span> RequestsHTTPTransport\n\n_transport <span class=\"token\" style=\"color:#393A34\">=</span> RequestsHTTPTransport<span class=\"token\" style=\"color:#393A34\">(</span>\n    url<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;https://api.datacite.org/graphql&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n    use_json<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">,</span>\n<span class=\"token\" style=\"color:#393A34\">)</span>\n\nclient <span class=\"token\" style=\"color:#393A34\">=</span> Client<span class=\"token\" style=\"color:#393A34\">(</span>\n    transport<span class=\"token\" style=\"color:#393A34\">=</span>_transport<span class=\"token\" style=\"color:#393A34\">,</span>\n    fetch_schema_from_transport<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">True</span><span class=\"token\" style=\"color:#393A34\">,</span>\n<span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-gZMcBi gmeReZ\"><h2>Define and run GraphQL query</h2>\n<p>Define the GraphQL query to retrieve metadata for the software titled: <a>Calculation Package: Inverting topography for landscape evolution model process representation</a> using its DOI.</p></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-bZQynM ivRWoJ\"><div class=\"sc-bxivhb hjplrr\">[3]</div><pre class=\"sc-EHOje jvzENE input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># Generate the GraphQL query to retrieve the required software&#x27;s metadata</span>\nquery_params <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span>\n    <span class=\"token\" style=\"color:#A31515\">&quot;softwareId&quot;</span> <span class=\"token\" style=\"color:#393A34\">:</span> <span class=\"token\" style=\"color:#A31515\">&quot;https://doi.org/10.5281/zenodo.2799488&quot;</span>\n<span class=\"token\" style=\"color:#393A34\">}</span>\n\nquery <span class=\"token\" style=\"color:#393A34\">=</span> gql<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token,triple-quoted-string\" style=\"color:#A31515\">&quot;&quot;&quot;query getSoftware($softwareId: ID!)\n{\n  software(id: $softwareId) {\n    id\n    titles {\n      title\n    }\n    publicationYear\n    citations {\n      nodes {\n        id\n        titles {\n          title\n        }        \n      }\n    }\n    version\n    versionCount\n    versionOfCount\n    citationCount\n    downloadCount\n    viewCount\n    versions {\n      nodes {\n        id\n        version\n        publicationYear\n        titles {\n          title\n        }\n        citations {\n          nodes {\n            id\n            titles {\n              title\n            }\n          }\n        }\n        version\n        versionCount\n        versionOfCount\n        citationCount\n        downloadCount\n        viewCount\n      }\n    }\n  }\n}\n&quot;&quot;&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-gZMcBi gmeReZ\"><p>Run the above query via the GraphQL client</p></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-bZQynM ivRWoJ\"><div class=\"sc-bxivhb hjplrr\">[4]</div><pre class=\"sc-EHOje jvzENE input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">import</span> json\ndata <span class=\"token\" style=\"color:#393A34\">=</span> client<span class=\"token\" style=\"color:#393A34\">.</span>execute<span class=\"token\" style=\"color:#393A34\">(</span>query<span class=\"token\" style=\"color:#393A34\">,</span> variable_values<span class=\"token\" style=\"color:#393A34\">=</span>json<span class=\"token\" style=\"color:#393A34\">.</span>dumps<span class=\"token\" style=\"color:#393A34\">(</span>query_params<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-gZMcBi gmeReZ\"><h2>Display total software metrics</h2>\n<p>Display total number of citations, views and downloads across all versions of software: <a>Calculation Package: Inverting topography for landscape evolution model process representation</a>.</p></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-bZQynM ivRWoJ\"><div class=\"sc-bxivhb hjplrr\">[5]</div><pre class=\"sc-EHOje jvzENE input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#008000;font-style:italic\"># Get the total count per metric, aggregated for across all versions of the software</span>\nsoftware <span class=\"token\" style=\"color:#393A34\">=</span> data<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;software&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Initialise metric counts</span>\nmetricCounts <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#393A34\">}</span>\n<span class=\"token\" style=\"color:#0000ff\">for</span> metric <span class=\"token\" style=\"color:#0000ff\">in</span> <span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;citationCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#A31515\">&#x27;viewCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#A31515\">&#x27;downloadCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    metricCounts<span class=\"token\" style=\"color:#393A34\">[</span>metric<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">0</span>\n    \n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Aggregate metric counts across all the version</span>\n<span class=\"token\" style=\"color:#0000ff\">for</span> node <span class=\"token\" style=\"color:#0000ff\">in</span> software<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;versions&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;nodes&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    <span class=\"token\" style=\"color:#0000ff\">for</span> metric <span class=\"token\" style=\"color:#0000ff\">in</span> metricCounts<span class=\"token\" style=\"color:#393A34\">:</span>\n         metricCounts<span class=\"token\" style=\"color:#393A34\">[</span>metric<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">+=</span> node<span class=\"token\" style=\"color:#393A34\">[</span>metric<span class=\"token\" style=\"color:#393A34\">]</span>\n            \n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Display the aggregated metric counts</span>\ntableBody<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;&quot;</span>\n<span class=\"token\" style=\"color:#0000ff\">for</span> metric <span class=\"token\" style=\"color:#0000ff\">in</span> metricCounts<span class=\"token\" style=\"color:#393A34\">:</span>        \n    tableBody <span class=\"token\" style=\"color:#393A34\">+=</span> <span class=\"token\" style=\"color:#A31515\">&quot;%s | **%s**\\n&quot;</span> <span class=\"token\" style=\"color:#393A34\">%</span> <span class=\"token\" style=\"color:#393A34\">(</span>metric<span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token,builtin\">str</span><span class=\"token\" style=\"color:#393A34\">(</span>metricCounts<span class=\"token\" style=\"color:#393A34\">[</span>metric<span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\n<span class=\"token\" style=\"color:#0000ff\">if</span> tableBody<span class=\"token\" style=\"color:#393A34\">:</span>\n   display<span class=\"token\" style=\"color:#393A34\">(</span>Markdown<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;Aggregated metric counts for software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) across all its versions:&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\n   display<span class=\"token\" style=\"color:#393A34\">(</span>Markdown<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;|Metric | Aggregated Count|\\n|---|---|\\n%s&quot;</span> <span class=\"token\" style=\"color:#393A34\">%</span> tableBody<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-gzVnrw jFzGrB\"></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-gZMcBi gmeReZ\"><h2>Plot metric counts per software version</h2>\n<p>Plot stacked bar plot showing how the individual versions of software: <a>Calculation Package: Inverting topography for landscape evolution model process representation</a> contribute their metric counts to the corresponding aggregated total.</p></div></div><div class=\"sc-dnqmqq iXBJUB\"><div class=\"sc-bZQynM ivRWoJ\"><div class=\"sc-bxivhb hjplrr\">[6]</div><pre class=\"sc-EHOje jvzENE input\" style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:10px 0px 10px 10px;margin:0px;overflow:auto;border:none;background-color:var(--cm-background, #fafafa)\"><code style=\"color:#393A34;font-family:&quot;Consolas&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:0.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none\"><span class=\"token\" style=\"color:#0000ff\">import</span> plotly<span class=\"token\" style=\"color:#393A34\">.</span>io <span class=\"token\" style=\"color:#0000ff\">as</span> pio\n<span class=\"token\" style=\"color:#0000ff\">import</span> plotly<span class=\"token\" style=\"color:#393A34\">.</span>express <span class=\"token\" style=\"color:#0000ff\">as</span> px\n<span class=\"token\" style=\"color:#0000ff\">from</span> IPython<span class=\"token\" style=\"color:#393A34\">.</span>display <span class=\"token\" style=\"color:#0000ff\">import</span> IFrame\n<span class=\"token\" style=\"color:#0000ff\">import</span> pandas <span class=\"token\" style=\"color:#0000ff\">as</span> pd\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Adapted from: https://stackoverflow.com/questions/58766305/is-there-any-way-to-implement-stacked-or-grouped-bar-charts-in-plotly-express</span>\n<span class=\"token\" style=\"color:#0000ff\">def</span> <span class=\"token\" style=\"color:#393A34\">px_stacked_bar</span><span class=\"token\" style=\"color:#393A34\">(</span>df<span class=\"token\" style=\"color:#393A34\">,</span> color_name<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;Metric&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span> y_name<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;Metrics&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#393A34\">**</span>pxargs<span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    idx_col <span class=\"token\" style=\"color:#393A34\">=</span> df<span class=\"token\" style=\"color:#393A34\">.</span>index<span class=\"token\" style=\"color:#393A34\">.</span>name\n    m <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>melt<span class=\"token\" style=\"color:#393A34\">(</span>df<span class=\"token\" style=\"color:#393A34\">.</span>reset_index<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span> id_vars<span class=\"token\" style=\"color:#393A34\">=</span>idx_col<span class=\"token\" style=\"color:#393A34\">,</span> var_name<span class=\"token\" style=\"color:#393A34\">=</span>color_name<span class=\"token\" style=\"color:#393A34\">,</span> value_name<span class=\"token\" style=\"color:#393A34\">=</span>y_name<span class=\"token\" style=\"color:#393A34\">)</span>\n    <span class=\"token\" style=\"color:#008000;font-style:italic\"># For Plotly colour sequences see: https://plotly.com/python/discrete-color/     </span>\n    <span class=\"token\" style=\"color:#0000ff\">return</span> px<span class=\"token\" style=\"color:#393A34\">.</span>bar<span class=\"token\" style=\"color:#393A34\">(</span>m<span class=\"token\" style=\"color:#393A34\">,</span> x<span class=\"token\" style=\"color:#393A34\">=</span>idx_col<span class=\"token\" style=\"color:#393A34\">,</span> y<span class=\"token\" style=\"color:#393A34\">=</span>y_name<span class=\"token\" style=\"color:#393A34\">,</span> color<span class=\"token\" style=\"color:#393A34\">=</span>color_name<span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token\" style=\"color:#393A34\">**</span>pxargs<span class=\"token\" style=\"color:#393A34\">,</span> \n                  color_discrete_sequence<span class=\"token\" style=\"color:#393A34\">=</span>px<span class=\"token\" style=\"color:#393A34\">.</span>colors<span class=\"token\" style=\"color:#393A34\">.</span>qualitative<span class=\"token\" style=\"color:#393A34\">.</span>Pastel1<span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Collect metric counts</span>\nsoftware <span class=\"token\" style=\"color:#393A34\">=</span> data<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;software&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\nversion <span class=\"token\" style=\"color:#393A34\">=</span> software<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;version&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Initialise dicts for the stacked bar plot</span>\nlabels <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">:</span> <span class=\"token\" style=\"color:#A31515\">&#x27;All Software Versions&#x27;</span><span class=\"token\" style=\"color:#393A34\">}</span>\ncitationCounts <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#393A34\">}</span>\nviewCounts <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#393A34\">}</span>\ndownloadCounts <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#393A34\">}</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Collect software/version labels</span>\nversionCnt <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">1</span>\n<span class=\"token\" style=\"color:#0000ff\">for</span> node <span class=\"token\" style=\"color:#0000ff\">in</span> software<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;versions&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;nodes&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    version <span class=\"token\" style=\"color:#393A34\">=</span> software<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;version&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    labels<span class=\"token\" style=\"color:#393A34\">[</span>versionCnt<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#A31515\">&#x27;%s (%s)&#x27;</span> <span class=\"token\" style=\"color:#393A34\">%</span> <span class=\"token\" style=\"color:#393A34\">(</span>version<span class=\"token\" style=\"color:#393A34\">,</span> node<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;publicationYear&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">)</span>\n    versionCnt <span class=\"token\" style=\"color:#393A34\">+=</span> <span class=\"token\" style=\"color:#36acaa\">1</span>\n    \n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Initialise aggregated metric counts (key: 0)</span>\ncitationCounts<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">0</span>\nviewCounts<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">0</span>\ndownloadCounts<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">0</span>\n    \n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Populate metric counts for individual versions (key: versionCnt) and add them to the aggregated counts (key: 0)</span>\nversionCnt <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#36acaa\">1</span>\n<span class=\"token\" style=\"color:#0000ff\">for</span> node <span class=\"token\" style=\"color:#0000ff\">in</span> software<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;versions&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;nodes&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span><span class=\"token\" style=\"color:#393A34\">:</span>\n    citationCounts<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">+=</span> node<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;citationCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    viewCounts<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">+=</span> node<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;viewCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    downloadCounts<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#36acaa\">0</span><span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">+=</span> node<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;downloadCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    citationCounts<span class=\"token\" style=\"color:#393A34\">[</span>versionCnt<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> node<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;citationCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    viewCounts<span class=\"token\" style=\"color:#393A34\">[</span>versionCnt<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> node<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;viewCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    downloadCounts<span class=\"token\" style=\"color:#393A34\">[</span>versionCnt<span class=\"token\" style=\"color:#393A34\">]</span> <span class=\"token\" style=\"color:#393A34\">=</span> node<span class=\"token\" style=\"color:#393A34\">[</span><span class=\"token\" style=\"color:#A31515\">&#x27;downloadCount&#x27;</span><span class=\"token\" style=\"color:#393A34\">]</span>\n    versionCnt <span class=\"token\" style=\"color:#393A34\">+=</span> <span class=\"token\" style=\"color:#36acaa\">1</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Create stacked bar plot</span>\ndf <span class=\"token\" style=\"color:#393A34\">=</span> pd<span class=\"token\" style=\"color:#393A34\">.</span>DataFrame<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">{</span><span class=\"token\" style=\"color:#A31515\">&#x27;Software/Versions&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> labels<span class=\"token\" style=\"color:#393A34\">,</span>\n                   <span class=\"token\" style=\"color:#A31515\">&#x27;Citations&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> citationCounts<span class=\"token\" style=\"color:#393A34\">,</span>\n                   <span class=\"token\" style=\"color:#A31515\">&#x27;Views&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> viewCounts<span class=\"token\" style=\"color:#393A34\">,</span>\n                   <span class=\"token\" style=\"color:#A31515\">&#x27;Downloads&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> downloadCounts<span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span>\nfig <span class=\"token\" style=\"color:#393A34\">=</span> px_stacked_bar<span class=\"token\" style=\"color:#393A34\">(</span>df<span class=\"token\" style=\"color:#393A34\">.</span>set_index<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&#x27;Software/Versions&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">,</span> y_name <span class=\"token\" style=\"color:#393A34\">=</span> <span class=\"token\" style=\"color:#A31515\">&quot;Counts&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Set plot background to transparent</span>\nfig<span class=\"token\" style=\"color:#393A34\">.</span>update_layout<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#393A34\">{</span>\n<span class=\"token\" style=\"color:#A31515\">&#x27;plot_bgcolor&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> <span class=\"token\" style=\"color:#A31515\">&#x27;rgba(0, 0, 0, 0)&#x27;</span><span class=\"token\" style=\"color:#393A34\">,</span>\n<span class=\"token\" style=\"color:#A31515\">&#x27;paper_bgcolor&#x27;</span><span class=\"token\" style=\"color:#393A34\">:</span> <span class=\"token\" style=\"color:#A31515\">&#x27;rgba(0, 0, 0, 0)&#x27;</span>\n<span class=\"token\" style=\"color:#393A34\">}</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Write interactive plot out to html file</span>\npio<span class=\"token\" style=\"color:#393A34\">.</span>write_html<span class=\"token\" style=\"color:#393A34\">(</span>fig<span class=\"token\" style=\"color:#393A34\">,</span> <span class=\"token,builtin\">file</span><span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&#x27;out.html&#x27;</span><span class=\"token\" style=\"color:#393A34\">)</span>\n\n<span class=\"token\" style=\"color:#008000;font-style:italic\"># Display plot from the saved html file</span>\ndisplay<span class=\"token\" style=\"color:#393A34\">(</span>Markdown<span class=\"token\" style=\"color:#393A34\">(</span><span class=\"token\" style=\"color:#A31515\">&quot;Citations, views and downloads counts for software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) across all its versions, shown as stacked bar plot:&quot;</span><span class=\"token\" style=\"color:#393A34\">)</span><span class=\"token\" style=\"color:#393A34\">)</span>\nIFrame<span class=\"token\" style=\"color:#393A34\">(</span>src<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#A31515\">&quot;./out.html&quot;</span><span class=\"token\" style=\"color:#393A34\">,</span> width<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">500</span><span class=\"token\" style=\"color:#393A34\">,</span> height<span class=\"token\" style=\"color:#393A34\">=</span><span class=\"token\" style=\"color:#36acaa\">500</span><span class=\"token\" style=\"color:#393A34\">)</span></code></pre></div><div class=\"sc-gzVnrw jFzGrB\"></div></div></div></div>","internal":{"content":"{\n \"cells\": [\n  {\n   \"cell_type\": \"markdown\",\n   \"metadata\": {},\n   \"source\": [\n    \"  [FREYA](https://www.project-freya.eu/en) WP2 [User Story 2](https://github.com/datacite/freya/issues/63) | As a software author, I want to be able to see the citations of my software aggregated across all versions, so that I see a complete picture of reuse.\\n\",\n    \" :------------- | :------------- | :-------------\\n\",\n    \"\\n\",\n    \"Software development process involves versioned releases. Consequently, different software versions may be used for scientific discovery and thus referenced in publications. In order to quantify impact of a software, its author must be able to capture the reuse of the software across all its versions.<p />\\n\",\n    \"This notebook uses the [DataCite GraphQL API](https://api.datacite.org/graphql) to retrieve metadata about software titled: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488), including all its versions, so that its overall reuse can be quantified.\\n\",\n    \"\\n\",\n    \"**Goal**: By the end of this notebook, for a given software you should be able to display:\\n\",\n    \"- Counts of <ins>citations, views and downloads</ins> metrics, aggregated across all versions of the software\\n\",\n    \"- An interactive stacked bar plot showing how the metric counts of each version contribute to the corresponding aggregated metric counts, e.g.<br> <img src=\\\"data:image/png;base64,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\\\" width=\\\"258\\\" height=\\\"215\\\" />\"\n   ]\n  },\n  {\n   \"cell_type\": \"markdown\",\n   \"metadata\": {},\n   \"source\": [\n    \"## Install libraries and prepare GraphQL client\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 1,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"%%capture\\n\",\n    \"# Install required Python packages\\n\",\n    \"!pip install gql requests numpy plotly\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 2,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"# Prepare the GraphQL client\\n\",\n    \"import requests\\n\",\n    \"from IPython.display import display, Markdown\\n\",\n    \"from gql import gql, Client\\n\",\n    \"from gql.transport.requests import RequestsHTTPTransport\\n\",\n    \"\\n\",\n    \"_transport = RequestsHTTPTransport(\\n\",\n    \"    url='https://api.datacite.org/graphql',\\n\",\n    \"    use_json=True,\\n\",\n    \")\\n\",\n    \"\\n\",\n    \"client = Client(\\n\",\n    \"    transport=_transport,\\n\",\n    \"    fetch_schema_from_transport=True,\\n\",\n    \")\"\n   ]\n  },\n  {\n   \"cell_type\": \"markdown\",\n   \"metadata\": {},\n   \"source\": [\n    \"## Define and run GraphQL query\\n\",\n    \"Define the GraphQL query to retrieve metadata for the software titled: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) using its DOI.\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 3,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"# Generate the GraphQL query to retrieve the required software's metadata\\n\",\n    \"query_params = {\\n\",\n    \"    \\\"softwareId\\\" : \\\"https://doi.org/10.5281/zenodo.2799488\\\"\\n\",\n    \"}\\n\",\n    \"\\n\",\n    \"query = gql(\\\"\\\"\\\"query getSoftware($softwareId: ID!)\\n\",\n    \"{\\n\",\n    \"  software(id: $softwareId) {\\n\",\n    \"    id\\n\",\n    \"    titles {\\n\",\n    \"      title\\n\",\n    \"    }\\n\",\n    \"    publicationYear\\n\",\n    \"    citations {\\n\",\n    \"      nodes {\\n\",\n    \"        id\\n\",\n    \"        titles {\\n\",\n    \"          title\\n\",\n    \"        }        \\n\",\n    \"      }\\n\",\n    \"    }\\n\",\n    \"    version\\n\",\n    \"    versionCount\\n\",\n    \"    versionOfCount\\n\",\n    \"    citationCount\\n\",\n    \"    downloadCount\\n\",\n    \"    viewCount\\n\",\n    \"    versions {\\n\",\n    \"      nodes {\\n\",\n    \"        id\\n\",\n    \"        version\\n\",\n    \"        publicationYear\\n\",\n    \"        titles {\\n\",\n    \"          title\\n\",\n    \"        }\\n\",\n    \"        citations {\\n\",\n    \"          nodes {\\n\",\n    \"            id\\n\",\n    \"            titles {\\n\",\n    \"              title\\n\",\n    \"            }\\n\",\n    \"          }\\n\",\n    \"        }\\n\",\n    \"        version\\n\",\n    \"        versionCount\\n\",\n    \"        versionOfCount\\n\",\n    \"        citationCount\\n\",\n    \"        downloadCount\\n\",\n    \"        viewCount\\n\",\n    \"      }\\n\",\n    \"    }\\n\",\n    \"  }\\n\",\n    \"}\\n\",\n    \"\\\"\\\"\\\")\"\n   ]\n  },\n  {\n   \"cell_type\": \"markdown\",\n   \"metadata\": {},\n   \"source\": [\n    \"Run the above query via the GraphQL client\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 4,\n   \"metadata\": {},\n   \"outputs\": [],\n   \"source\": [\n    \"import json\\n\",\n    \"data = client.execute(query, variable_values=json.dumps(query_params))\"\n   ]\n  },\n  {\n   \"cell_type\": \"markdown\",\n   \"metadata\": {},\n   \"source\": [\n    \"## Display total software metrics\\n\",\n    \"Display total number of <ins>citations, views and downloads</ins> across all versions of software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488).\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 5,\n   \"metadata\": {},\n   \"outputs\": [\n    {\n     \"data\": {\n      \"text/markdown\": [\n       \"Aggregated metric counts for software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) across all its versions:\"\n      ],\n      \"text/plain\": [\n       \"<IPython.core.display.Markdown object>\"\n      ]\n     },\n     \"metadata\": {},\n     \"output_type\": \"display_data\"\n    },\n    {\n     \"data\": {\n      \"text/markdown\": [\n       \"|Metric | Aggregated Count|\\n\",\n       \"|---|---|\\n\",\n       \"citationCount | **3**\\n\",\n       \"viewCount | **0**\\n\",\n       \"downloadCount | **0**\\n\"\n      ],\n      \"text/plain\": [\n       \"<IPython.core.display.Markdown object>\"\n      ]\n     },\n     \"metadata\": {},\n     \"output_type\": \"display_data\"\n    }\n   ],\n   \"source\": [\n    \"# Get the total count per metric, aggregated for across all versions of the software\\n\",\n    \"software = data['software']\\n\",\n    \"# Initialise metric counts\\n\",\n    \"metricCounts = {}\\n\",\n    \"for metric in ['citationCount', 'viewCount', 'downloadCount']:\\n\",\n    \"    metricCounts[metric] = 0\\n\",\n    \"    \\n\",\n    \"# Aggregate metric counts across all the version\\n\",\n    \"for node in software['versions']['nodes']:\\n\",\n    \"    for metric in metricCounts:\\n\",\n    \"         metricCounts[metric] += node[metric]\\n\",\n    \"            \\n\",\n    \"# Display the aggregated metric counts\\n\",\n    \"tableBody=\\\"\\\"\\n\",\n    \"for metric in metricCounts:        \\n\",\n    \"    tableBody += \\\"%s | **%s**\\\\n\\\" % (metric, str(metricCounts[metric]))\\n\",\n    \"if tableBody:\\n\",\n    \"   display(Markdown(\\\"Aggregated metric counts for software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) across all its versions:\\\"))\\n\",\n    \"   display(Markdown(\\\"|Metric | Aggregated Count|\\\\n|---|---|\\\\n%s\\\" % tableBody))\"\n   ]\n  },\n  {\n   \"cell_type\": \"markdown\",\n   \"metadata\": {},\n   \"source\": [\n    \"## Plot metric counts per software version\\n\",\n    \"Plot stacked bar plot showing how the individual versions of software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) contribute their metric counts to the corresponding aggregated total.\"\n   ]\n  },\n  {\n   \"cell_type\": \"code\",\n   \"execution_count\": 6,\n   \"metadata\": {},\n   \"outputs\": [\n    {\n     \"data\": {\n      \"text/markdown\": [\n       \"Citations, views and downloads counts for software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) across all its versions, shown as stacked bar plot:\"\n      ],\n      \"text/plain\": [\n       \"<IPython.core.display.Markdown object>\"\n      ]\n     },\n     \"metadata\": {},\n     \"output_type\": \"display_data\"\n    },\n    {\n     \"data\": {\n      \"text/html\": [\n       \"\\n\",\n       \"        <iframe\\n\",\n       \"            width=\\\"500\\\"\\n\",\n       \"            height=\\\"500\\\"\\n\",\n       \"            src=\\\"./out.html\\\"\\n\",\n       \"            frameborder=\\\"0\\\"\\n\",\n       \"            allowfullscreen\\n\",\n       \"        ></iframe>\\n\",\n       \"        \"\n      ],\n      \"text/plain\": [\n       \"<IPython.lib.display.IFrame at 0x107a9add8>\"\n      ]\n     },\n     \"execution_count\": 6,\n     \"metadata\": {},\n     \"output_type\": \"execute_result\"\n    }\n   ],\n   \"source\": [\n    \"import plotly.io as pio\\n\",\n    \"import plotly.express as px\\n\",\n    \"from IPython.display import IFrame\\n\",\n    \"import pandas as pd\\n\",\n    \"\\n\",\n    \"# Adapted from: https://stackoverflow.com/questions/58766305/is-there-any-way-to-implement-stacked-or-grouped-bar-charts-in-plotly-express\\n\",\n    \"def px_stacked_bar(df, color_name='Metric', y_name='Metrics', **pxargs):\\n\",\n    \"    idx_col = df.index.name\\n\",\n    \"    m = pd.melt(df.reset_index(), id_vars=idx_col, var_name=color_name, value_name=y_name)\\n\",\n    \"    # For Plotly colour sequences see: https://plotly.com/python/discrete-color/     \\n\",\n    \"    return px.bar(m, x=idx_col, y=y_name, color=color_name, **pxargs, \\n\",\n    \"                  color_discrete_sequence=px.colors.qualitative.Pastel1)\\n\",\n    \"\\n\",\n    \"# Collect metric counts\\n\",\n    \"software = data['software']\\n\",\n    \"version = software['version']\\n\",\n    \"\\n\",\n    \"# Initialise dicts for the stacked bar plot\\n\",\n    \"labels = {0: 'All Software Versions'}\\n\",\n    \"citationCounts = {}\\n\",\n    \"viewCounts = {}\\n\",\n    \"downloadCounts = {}\\n\",\n    \"\\n\",\n    \"# Collect software/version labels\\n\",\n    \"versionCnt = 1\\n\",\n    \"for node in software['versions']['nodes']:\\n\",\n    \"    version = software['version']\\n\",\n    \"    labels[versionCnt] = '%s (%s)' % (version, node['publicationYear'])\\n\",\n    \"    versionCnt += 1\\n\",\n    \"    \\n\",\n    \"# Initialise aggregated metric counts (key: 0)\\n\",\n    \"citationCounts[0] = 0\\n\",\n    \"viewCounts[0] = 0\\n\",\n    \"downloadCounts[0] = 0\\n\",\n    \"    \\n\",\n    \"# Populate metric counts for individual versions (key: versionCnt) and add them to the aggregated counts (key: 0)\\n\",\n    \"versionCnt = 1\\n\",\n    \"for node in software['versions']['nodes']:\\n\",\n    \"    citationCounts[0] += node['citationCount']\\n\",\n    \"    viewCounts[0] += node['viewCount']\\n\",\n    \"    downloadCounts[0] += node['downloadCount']\\n\",\n    \"    citationCounts[versionCnt] = node['citationCount']\\n\",\n    \"    viewCounts[versionCnt] = node['viewCount']\\n\",\n    \"    downloadCounts[versionCnt] = node['downloadCount']\\n\",\n    \"    versionCnt += 1\\n\",\n    \"\\n\",\n    \"# Create stacked bar plot\\n\",\n    \"df = pd.DataFrame({'Software/Versions': labels,\\n\",\n    \"                   'Citations': citationCounts,\\n\",\n    \"                   'Views': viewCounts,\\n\",\n    \"                   'Downloads': downloadCounts})\\n\",\n    \"fig = px_stacked_bar(df.set_index('Software/Versions'), y_name = \\\"Counts\\\")\\n\",\n    \"\\n\",\n    \"# Set plot background to transparent\\n\",\n    \"fig.update_layout({\\n\",\n    \"'plot_bgcolor': 'rgba(0, 0, 0, 0)',\\n\",\n    \"'paper_bgcolor': 'rgba(0, 0, 0, 0)'\\n\",\n    \"})\\n\",\n    \"\\n\",\n    \"# Write interactive plot out to html file\\n\",\n    \"pio.write_html(fig, file='out.html')\\n\",\n    \"\\n\",\n    \"# Display plot from the saved html file\\n\",\n    \"display(Markdown(\\\"Citations, views and downloads counts for software: [Calculation Package: Inverting topography for landscape evolution model process representation](https://doi.org/10.5281/zenodo.2799488) across all its versions, shown as stacked bar plot:\\\"))\\n\",\n    \"IFrame(src=\\\"./out.html\\\", width=500, height=500)\"\n   ]\n  }\n ],\n \"metadata\": {\n  \"kernelspec\": {\n   \"display_name\": \"Python 3\",\n   \"language\": \"python\",\n   \"name\": \"python3\"\n  },\n  \"language_info\": {\n   \"codemirror_mode\": {\n    \"name\": \"ipython\",\n    \"version\": 3\n   },\n   \"file_extension\": \".py\",\n   \"mimetype\": \"text/x-python\",\n   \"name\": \"python\",\n   \"nbconvert_exporter\": \"python\",\n   \"pygments_lexer\": \"ipython3\",\n   \"version\": \"3.6.1\"\n  }\n },\n \"nbformat\": 4,\n \"nbformat_minor\": 4\n}\n"},"fields":{"codemeta":{"identifier":"https://doi.org/10.14454/27b7-9g84","binderUrl":"https://mybinder.org/v2/gh/datacite/pidgraph-notebooks-python/master?filepath=user-story-2-software-citations%2Fpy-software-citations-with-output.ipynb","codeRepository":"https://github.com/datacite/pidgraph-notebooks-python/tree/master/user-story-2-software-citations","controlledTem":"software","datePublished":"2020-06-01","dateModified":"2020-06-10","dateCreated":"2020-06-01","description":"Jupyter notebook that uses GraphQL to implement EC-funded FREYA Project User Story 2: As a software author, I want to be able to see the citations of my software aggregated across all versions. so that I see a complete picture of reuse.","isAutomatedBuild":true,"issueTracker":"https://github.com/datacite/pidgraph-notebooks-python/issues","licenseId":"MIT","publisher":"DataCite","name":"FREYA PID Graph - Software Citations","version":"1.1.1"}}}},"pageContext":{"slug":"/pidgraph-notebooks-python/user-story-2-software-citations/py-software-citations-with-output/"}}}